---
title: "2017-10-27 腾讯云 CDN 故障记录"
date: 2017-10-27 17:46:03
id: qcloud-cdn-breakdown
categories: WTF
tags: []
---

今日技术博客 POST 请求出现回源异常超时问题，经多方面排查，先后排除 PHP-FPM 慢执行、MySQL 慢查询、HTTPS 协议故障、本地网络故障等问题后发现直接访问源站正常，故怀疑 CDN 问题，随即提交工单并多次电联腾讯云催促，最终得到答复。

##### 2017-10-27 15:00

故障发生，首先怀疑站点问题（读取请求正常，写入出错）。

##### 2017-10-27 17:00

排查发现问题原因是腾讯云 CDN 回源故障，此时全站 GET 请求正常，POST 请求 HTTP 协议出现 CONNECTION RESET，HTTPS 返回 564（根据腾讯先前解释为回源超时），部分功能可能出现问题，提交工单等待腾讯修复。

##### 2017-10-27 17:45

电联腾讯云 400，要求尽快答复。 ![](/resources/legacy/5b73a54714fa5.png)

##### 2017-10-27 18:00

更换网络环境，经测试发现浙江电信问题存在，浙江移动正常。

##### 2017-10-27 18:50

故障恢复，但依旧未等到腾讯云给予答复，甚至没有重现问题。

##### 2017-10-27 19:00

收到腾讯云方面测试工程师答复：链路已经恢复。 ![](/resources/legacy/5b73a54a5d892.png)

##### 2017-10-27 19:35

收到故障详情说明，如下：

> 您好，cdn 监控发现针对异地覆盖的部分地区/运营商存回源链路劫持情况，对 post 请求支持异常，监控发现后，已经人工干预介入调度，调整回源链路，目前问题已经恢复。同时，劫持问题已经报障运营商处理中。给您带来不便十分抱歉。
